<template name="CategoryList">
  {{#if $.Session.get 'CategoryNew'}}
    {{> CategoryNew}}
  {{else}}
    {{#if $.Session.get 'CategoryEdit'}}
      {{> CategoryEdit}}
    {{else}}
      {{#if $.Session.get 'CategoryDelete'}}
        {{> CategoryDelete}}
      {{else}}
        {{#if $.Session.get 'CategoryView'}}
          {{> CategoryView}}
        {{else}}
          {{> ContentHeader title="Category" subTitle="List"}}
          <section class="content">
            {{#unless Template.subscriptionsReady}}{{> spinner}}{{/unless}}
            {{#if Template.subscriptionsReady}}
              <div id="alert"></div>

              <!-- Search Form -->
              <div class="row">
                <div class="col-xs-12 col-sm-8">
                  <div class="form-group">
                    <input type="text" class="form-control category-search" placeholder="Search for category" value="{{searchQuery}}">
                  </div>
                </div>
                <div class="col-xs-12 col-sm-4">
                  <div class="input-group">
                    <select class="form-control">
                      <option value="">All</option>
                      <option value="VulcanAlchemy.biz">VulcanAlchemy.biz</option>
                      <option value="VulcanAlchemyOnline.com">VulcanAlchemyOnline.com</option>
                      <option value="VulcanAlchemy.org">VulcanAlchemy.org</option>
                      <option value="VulcanIOT.com">VulcanIOT.com</option>
                      <option value="VulcanIOT.net">VulcanIOT.net</option>
                      <option value="VulcanMedical.org">VulcanMedical.org</option>
                    </select>
                    <span class="input-group-btn">
                      <button class="btn btn-default" type="button"><i class="fa fa-search" aria-hidden="true"></i></button>
                    </span>
                  </div>
                </div>
              </div>
              <!-- Search Form -->

              <!-- Category List -->
              <div class="box box-primary">
                <div class="box-header with-border">
                  <h3 class="box-title">Categories</h3>
                  <div class="box-tools pull-right">
                    <a href="#" title="New Category" class="btn btn-xs btn-success category-new"><i class="fa fa-plus" aria-hidden="true"></i> New</a>
                  </div>
                </div>
                <div class="box-body">
                  <table class="table table-hover table-striped">
                    <thead>
                      <tr>
                        <th>Application</th>
                        <th class="col-xs-1">Icon</th>
                        <th>Name</th>
                        <th class="col-xs-1">Active</th>

                      </tr>
                    </thead>
                    <tbody>
                      {{#each categories}}
                      <tr>
                        <td>{{#each application}}{{name}},{{/each}}</td>
                          <td><i class="fa {{icon}}" aria-hidden="true"></i></td>
                        <td><a href="#" title="View Cate {{name}}" class="category-view">{{name}}</a></td>
                        <td>{{active}}</td>
                      </tr>
                      {{else}}
                      <tr>
                        <td colspan="4"><i class="fa fa-info-circle" aria-hidden="true"></i> No Categories</td>
                      </tr>
                      {{/each}}
                    </tbody>
                  </table>

                  <!-- Pagination -->
                  <div class="row">
                    <div class="col-xs-12">
                      <nav>
                        <ul class="pager">
                          <li class="{{prevPageClass}}">
                            <a id="prevPage" href="{{prevPage}}" title="Previous">
                              <span aria-hidden="true">&larr;</span> Previous
                            </a>
                          </li>
                          <li class="{{nextPageClass}}">
                            <a id="nextPage" href="{{nextPage}}" title="Next">
                              Next <span aria-hidden="true">&rarr;</span>
                            </a>
                          </li>
                        </ul>
                      </nav>
                    </div>
                  </div>
                  <!-- Pagination -->

                </div>
              </div>

            {{/if}}
          </section>
        {{/if}}
      {{/if}}
    {{/if}}
  {{/if}}
</template>
