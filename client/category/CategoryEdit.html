<template name="CategoryEdit">
  <section class="content">
  {{> ContentHeader title="Category" subTitle="New"}}
  {{#unless Template.subscriptionsReady}}{{> spinner}}{{/unless}}
  {{#if Template.subscriptionsReady}}
    <div id="alert"></div>
    <br />
    <div class="box box-primary">
      <div class="box-header with-border">
        <h3 class="box-title">Edit Category</h3>
        <div class="box-tools pull-right">
          <a href="#" title="Back" class="btn btn-xs btn-primary category-edit"><i class="fa fa-reply" aria-hidden="true"></i> Back</a>
        </div>
      </div>
      <div class="box-body">
        {{# autoForm collection="Category" id="categoryUpdateForm" type="update" class="category-new-form" doc=category}}
        <div class="row">
          <div class="col-xs-12">
            {{> afQuickField name="application"}}
          </div>
        </div>

        <div class="row">
          <div class="col-xs-12">
            <div class="form-group {{#if afFieldIsInvalid name='name'}}has-error{{/if}}">
              <label class="control-label">{{afFieldLabelText name='name'}}</label>
              {{> afFieldInput name='name'}}
              {{#if afFieldIsInvalid name='name'}}
              <span class="help-block">{{{afFieldMessage name='name'}}}</span>
              {{/if}}
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-xs-12">
            <div class="form-group {{#if afFieldIsInvalid name='description'}}has-error{{/if}}">
              <label class="control-label">{{afFieldLabelText name='description'}}</label>
              {{> afFieldInput name='description'}}
              {{#if afFieldIsInvalid name='description'}}
              <span class="help-block">{{{afFieldMessage name='description'}}}</span>
              {{/if}}
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-xs-12">
            <div class="form-group {{#if afFieldIsInvalid name='icon'}}has-error{{/if}}">
              <label class="control-label">{{afFieldLabelText name='icon'}}</label>
              {{> afFieldInput name='icon'}}
              {{#if afFieldIsInvalid name='icon'}}
              <span class="help-block">{{{afFieldMessage name='icon'}}}</span>
              {{/if}}
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-xs-12 col-sm-5">
            <div class="form-group {{#if afFieldIsInvalid name='type'}}has-error{{/if}}">
              <label class="control-label">{{afFieldLabelText name='type'}}</label>
              {{> afFieldInput name='type'}}
              {{#if afFieldIsInvalid name='type'}}
              <span class="help-block">{{{afFieldMessage name='type'}}}</span>
              {{/if}}
            </div>
          </div>
        </div>

        <hr />
        <h3>Meta Tags</h3>

        <div class="row">
          <div class="col-xs-12">
            <div class="form-group {{#if afFieldIsInvalid name='metaTitle'}}has-error{{/if}}">
              <label class="control-label">{{afFieldLabelText name='metaTitle'}}</label>
              {{> afFieldInput name='metaTitle'}}
              {{#if afFieldIsInvalid name='metaTitle'}}
              <span class="help-block">{{{afFieldMessage name='metaTitle'}}}</span>
              {{/if}}
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-xs-12">
            <div class="form-group {{#if afFieldIsInvalid name='metaDescription'}}has-error{{/if}}">
              <label class="control-label">{{afFieldLabelText name='metaDescription'}}</label>
              {{> afFieldInput name='metaDescription'}}
              {{#if afFieldIsInvalid name='metaDescription'}}
              <span class="help-block">{{{afFieldMessage name='metaDescription'}}}</span>
              {{/if}}
            </div>
          </div>
        </div>

        {{> afQuickField name="metaKeywords"}}

      <hr />
      <h3>Sub Categories</h3>
      {{> afQuickField name="subCategory"}}


        <div class="row">
          <div class="col-xs-12">
            <div class="form-group {{#if afFieldIsInvalid name='active'}}has-error{{/if}}">
              {{> afFieldInput name='active'}}
              {{#if afFieldIsInvalid name='active'}}
              <span class="help-block">{{{afFieldMessage name='active'}}}</span>
              {{/if}}
            </div>
          </div>
        </div>

        {{> afQuickField name="created"}}

        {{> afQuickField name="lastModified"}}

        <div class="pull-right">
          <button type="cancel" class="btn btn-danger category-edit" name="cancel" id="cancel"><i class="fa fa-times-circle" aria-hidden="true"></i> Cancel</button>
          <button type="submit" class="btn btn-primary category-edit-submit" name="submit" id="submit"><i class="fa fa-floppy-o" aria-hidden="true"></i> Save</button>
        </div>
        {{/autoForm}}
      </div>
    </div>
    {{/if}}
  </section>
</template>
