<template name="LocationAccess">
  {{#if $.Session.get 'NewAccess'}}
    {{> NewAccess}}
  {{else}}
  <a href="#" title="New Access" class="btn btn-xs btn-warning pull-right new-access" style="margin-top:-42px;"><i class="fa fa-pencil" aria-hidden="true"></i> Edit</a>
  <table class="table table-hover table-striped">
    <thead>
      <tr>
        <th>Name</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody>
      {{#each location.access}}
        <tr>
          <td><a href="#" title="View {{name}}" class="view-access">{{name}}</a></td>
          <td>{{status}}</td>
        </tr>
      {{else}}
        <tr>
          <td colspan="4">
            <i class="fa fa-info-circle"></i> No access devices
          </td>
        </tr>
      {{/each}}
    </tbody>
  </table>
  {{/if}}

  <!-- Modal -->
  <div class="modal fade" id="userAccessModal" tabindex="-1" role="dialog" aria-labelledby="userAccessModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="userAccessModalLabel">User Access</h4>
        </div>
        <div class="modal-body">
          <table class="table table-hover table-striped">
            <thead>
              <tr>
                <th>Name</th>
                <th>Code</th>
                <th>Status</th>
                <th>Access</th>
              </tr>
            </thead>
            <tbody>
            {{#each users}}
              <tr>
                <td>{{name}}</td>
                <td>{{pinCode}}</td>
                <td>{{status}}</td>
                <td></td>
            </tr>
            {{else}}
            <tr>
              <td colspan="4">
                <i class="fa fa-info-circle" aria-hidden="true"></i> No valid users.
              </td>
            </tr>
            {{/each}}
          </tbody>
        </table>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
</template>
