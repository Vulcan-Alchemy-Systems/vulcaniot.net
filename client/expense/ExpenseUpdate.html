<template name="ExpenseUpdate">
  {{> ContentHeader title="Expense" subTitle="Edit"}}
  <section class="content">
    {{#unless Template.subscriptionsReady}}{{> spinner}}{{/unless}}
    {{#if Template.subscriptionsReady}}
      <div id="alert"></div>
      <div class="box box-primary">
        <div class="box-header with-border">
          <h3 class="box-title">New Expense</h3>
        </div>
        <div class="box-body">
          {{# autoForm collection="Expense" id="updateExpenseForm" type="update" class="expense-create-form" doc=expense}}
          <div class="row">
            <div class="col-xs-12 col-sm-4">
              <div class="form-group {{#if afFieldIsInvalid name='date'}}has-error{{/if}}">
                <label class="control-label">{{afFieldLabelText name='date'}}</label>
                {{> afFieldInput name='date'}}
                {{#if afFieldIsInvalid name='date'}}
                <span class="help-block">{{{afFieldMessage name='date'}}}</span>
                {{/if}}
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-xs-12 col-sm-4">
              <div class="form-group {{#if afFieldIsInvalid name='type'}}has-error{{/if}}">
                <label class="control-label">{{afFieldLabelText name='type'}}</label>
                {{> afFieldInput name='type' id='type'}}
                {{#if afFieldIsInvalid name='type'}}
                <span class="help-block">{{{afFieldMessage name='type'}}}</span>
                {{/if}}
              </div>
            </div>
          </div>


          <div class="row">
            <div class="col-xs-12">
              <div class="form-group {{#if afFieldIsInvalid name='description'}}has-error{{/if}}">
                <label class="control-label">{{afFieldLabelText name='description'}}</label>
                {{> afFieldInput name='description'}}
                {{#if afFieldIsInvalid name='description'}}
                <span class="help-block">{{{afFieldMessage name='description'}}}</span>
                {{/if}}
              </div>
            </div>
          </div>

          <div class="row amount-container">
            <div class="col-xs-12 col-sm-4">
              <div class="form-group {{#if afFieldIsInvalid name='amount'}}has-error{{/if}}">
                <label class="control-label">{{afFieldLabelText name='amount'}}</label>
                {{> afFieldInput name='amount' id='amount'}}
                {{#if afFieldIsInvalid name='amount'}}
                <span class="help-block">{{{afFieldMessage name='amount'}}}</span>
                {{/if}}
              </div>
            </div>
          </div>

          <div class="row milage-container">
            <div class="col-xs-12 col-sm-4">
              <div class="form-group {{#if afFieldIsInvalid name='milageStart'}}has-error{{/if}}">
                <label class="control-label">{{afFieldLabelText name='milageStart'}}</label>
                {{> afFieldInput name='milageStart'}}
                {{#if afFieldIsInvalid name='milageStart'}}
                <span class="help-block">{{{afFieldMessage name='milageStart'}}}</span>
                {{/if}}
              </div>
            </div>
            <div class="col-xs-12 col-sm-4">
              <div class="form-group {{#if afFieldIsInvalid name='milageEnd'}}has-error{{/if}}">
                <label class="control-label">{{afFieldLabelText name='milageEnd'}}</label>
                {{> afFieldInput name='milageEnd'}}
                {{#if afFieldIsInvalid name='milageEnd'}}
                <span class="help-block">{{{afFieldMessage name='milageEnd'}}}</span>
                {{/if}}
              </div>
            </div>
          </div>

          {{> afQuickField name="userId"}}

          <div class="pull-right">
            <button type="cancel" class="btn btn-danger expense-update" name="cancel" id="cancel"><i class="fa fa-times-circle" aria-hidden="true"></i> Cancel</button>
            <button type="submit" class="btn btn-primary expense-update-submit" name="submit" id="submit"><i class="fa fa-floppy-o" aria-hidden="true"></i> Save</button>
          </div>
          {{/autoForm}}
        </div>
      </div>
    {{/if}}
  </section>
</template>
